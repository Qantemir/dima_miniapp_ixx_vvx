# Явная конфигурация для фронтенд-сервиса на Railway
# Этот файл гарантирует, что Railway запустит фронтенд, а не бэкенд

[build]
# ЯВНО указываем использовать nixpacks, а не Dockerfile
builder = "nixpacks"
# Отключаем поиск Dockerfile
watchPatterns = ["package.json", "nixpacks.toml"]

[deploy]
# Явная команда запуска фронтенда

startCommand = "/app/node_modules/.bin/serve -s dist -l $PORT"
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10

# Указываем, что это Node.js проект
[env]
NODE_ENV = "production"

