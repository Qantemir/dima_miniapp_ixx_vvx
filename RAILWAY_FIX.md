# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Dockerfile –≤–º–µ—Å—Ç–æ nixpacks

## –ü—Ä–æ–±–ª–µ–º–∞

Railway –Ω–∞—Ö–æ–¥–∏—Ç `Dockerfile` –≤ –∫–æ—Ä–Ω–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –≤–º–µ—Å—Ç–æ `nixpacks.toml`.

## –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –£–¥–∞–ª–∏—Ç—å Dockerfile –∏–∑ –∫–æ—Ä–Ω—è (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **nixpacks** (–ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ):

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ—Ä–Ω–µ **–ù–ï–¢** —Ñ–∞–π–ª–∞ `Dockerfile`
2. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `nixpacks.toml`
3. –§–∞–π–ª `railway.toml` —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç `builder = "nixpacks"`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Dockerfile (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω)

–ï—Å–ª–∏ Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `Dockerfile.frontend` –∏ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ `Dockerfile.frontend` ‚Üí `Dockerfile`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Dockerfile –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è Railway
3. –£–¥–∞–ª–∏—Ç–µ `railway.toml` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `builder = "dockerfile"`

## –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- ‚úÖ `railway.toml` - —É–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nixpacks
- ‚úÖ `nixpacks.toml` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- ‚úÖ `Procfile` - –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞
- ‚úÖ `.railwayignore` - –∏—Å–∫–ª—é—á–∞–µ—Ç –±—ç–∫–µ–Ω–¥ –∏ Dockerfile.backend

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å

1. **–ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
   ```bash
   git add .
   git commit -m "Force Railway to use nixpacks for frontend"
   git push
   ```

2. **–í Railway:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å
   - Settings ‚Üí Build ‚Üí –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è nixpacks
   - –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ Dockerfile, —É–¥–∞–ª–∏—Ç–µ –µ–≥–æ –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
   - –ù–∞–∂–º–∏—Ç–µ "Redeploy"

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å: `npm ci`, `npm run build`, `serve`
   - –ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å: `docker build`, `nginx`

## –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Railway —Å–µ—Ä–≤–∏—Å–∞:
1. Settings ‚Üí Build
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ "Build Command" –ø—É—Å—Ç–æ–π (Railway —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª–∏—Ç)
3. –ò–ª–∏ —è–≤–Ω–æ —É–∫–∞–∂–∏—Ç–µ: `npm ci && npm run build`
4. "Start Command": `npx serve -s dist -l $PORT`

